# Development Caddyfile - for local development without Docker
# This is useful if you run API and Web with pnpm dev
# and want to test the full stack with Caddy

localhost:3000 {
    # API routes
    handle /api/* {
        reverse_proxy localhost:3001 {
            rewrite * /
        }
    }

    # Health endpoint
    handle /health {
        reverse_proxy localhost:3001
    }

    # Frontend
    handle {
        reverse_proxy localhost:5173
    }

    # Logging
    log {
        output stdout
        format console
        level INFO
    }
}
